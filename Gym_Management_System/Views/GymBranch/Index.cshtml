@model IEnumerable<GymManagementSystem.ViewModels.GymBranchViewModel>

@{
    ViewData["Title"] = "Gym Branches";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var plans = new[] { "Monthly", "Quarterly", "Yearly" };
    var pricing = new Dictionary<string, (decimal, string[], string)>
    {
        ["Monthly"] = (59.99m, new[] {
            "Access to all gym equipment",
            "Group fitness classes (limited slots)",
            "1 Personal trainer consultation",
            "Standard locker access",
            "No commitment, cancel anytime",
            "Open 6AM - 10PM daily"
        }, "MONTHLY (+1 MONTH)"),

        ["Quarterly"] = (149.99m, new[] {
            "Unlimited group class access",
            "2 Personal trainer sessions/month",
            "Premium locker + shower access",
            "Free gym bag + towel",
            "Priority booking for peak hours",
            "Valid for 3 months"
        }, "QUARTERLY (+3 MONTHS)"),

        ["Yearly"] = (499.99m, new[] {
            "All-inclusive VIP access",
            "Monthly body analysis & diet plan",
            "Unlimited personal trainer sessions",
            "Free exclusive merch package",
            "Priority access to new programs",
            "12-month full access & perks"
        }, "YEARLY (+12 MONTHS)")
    };
}

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-section set-bg" data-setbg="@Url.Content("~/img/breadcrumb-bg.jpg")">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="breadcrumb-text">
                    <h2>Gym Branches</h2>
                    <div class="bt-option">
                        <a asp-controller="Home" asp-action="Index">Home</a>
                        <span>Branches</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<!-- Gym Branches Section Begin -->
<section class="services-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <span>Where to find us</span>
                    <h2>Our Gym Branches</h2>
                </div>
            </div>
        </div>
        <div class="row gy-5">
            @foreach (var branch in Model)
            {
                <div class="col-lg-4 col-md-6 mb-4">
                    <a asp-controller="GymBranch" asp-action="Details" asp-route-id="@branch.BranchId">
                        <div class="ss-pic">
                            <img src="@branch.ImageUrl" alt="@branch.BranchName" class="img-fluid"
                                 style="height: 240px; object-fit: cover;" />
                        </div>
                    </a>
                    <div class="ss-text second-row">
                        <h4>@branch.BranchName</h4>
                        <p><i class="fa fa-map-marker text-warning"></i> @branch.Address</p>
                        <ul class="text-white" style="list-style:none; padding-left:0; font-size: 14px;">
                            <li><i class="fa fa-phone text-warning"></i> @branch.ContactNumber</li>
                            <li><i class="fa fa-users text-warning"></i> Trainers: @branch.TrainerCount</li>
                            <li><i class="fa fa-user-circle text-warning"></i> Receptionists: @branch.ReceptionistCount</li>
                            <li><i class="fa fa-building text-warning"></i> Rooms: @branch.RoomCount</li>
                        </ul>
                        <a class="text-warning" asp-controller="GymBranch" asp-action="Details"
                           asp-route-id="@branch.BranchId">Explore</a>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
<!-- Gym Branches Section End -->

<!-- Banner Section Begin -->
<section class="banner-section set-bg" data-setbg="img/banner-bg.jpg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="bs-text service-banner">
                    <h2>Exercise until the body obeys.</h2>
                    <div class="bt-tips">Where health, beauty and fitness meet.</div>
                    <a href="https://www.youtube.com/watch?v=EzKkl64rRbM" class="play-btn video-popup">
                        <i class="fa fa-caret-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Banner Section End -->

<!-- Pricing Section Begin -->
<section class="pricing-section service-pricing spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <span>Our Plan</span>
                    <h2>Choose your pricing plan</h2>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            @foreach (var planName in plans)
            {
                var (price, features, label) = pricing[planName];
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="ps-item text-center bg-dark text-light p-4 shadow-lg rounded">
                        <h3 class="text-warning">@planName Plan</h3>
                        <div class="pi-price my-3">
                            <h2 class="text-orange">$@price</h2>
                            <span>@label</span>
                        </div>
                        <ul class="list-unstyled text-light mb-4">
                            @foreach (var f in features) {
                                <li>@f</li>
                            }
                        </ul>
                        @if (User.Identity.IsAuthenticated)
                        {
                            <form asp-action="RenewMembership" asp-controller="Customer" method="post">
                                <input type="hidden" name="plan" value="@planName" />
                                <button type="submit" class="primary-btn pricing-btn">Enroll Now</button>
                            </form>
                        }
                        else
                        {
                            <a asp-controller="Account" asp-action="Login" class="primary-btn pricing-btn">Login to Enroll</a>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</section>
<!-- Pricing Section End -->